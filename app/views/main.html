<div layout="column" layout-align="center center">
  <div layout="row" layout-fill layout-align="center center">
    <md-tabs md-selected="step" flex-sm="100" flex-md="90" flex-lg="80" flex-gt-lg="66" class="md-whiteframe-z4">
      <md-tab label="Intro" ng-disabled="!(step==0)">
        <p>A lot of Google Maps use cases require to plot regions, such as sales sectors, maintenance zones or potential
          customer markets. Doing this by hands is often tedious and error-prone. Since a lot of use cases are based on
          administrative boundaries (states, cities and others), our best option
          is to use the administrative boundary as a starting point.</p>

        <p>On the map below you can see the French "départment" called Loir Et Cher. You are going to split this
          administrative region in two sales zones.</p>

        <div layout="row" layout-align="center end">
          <md-button class="md-raised md-primary" ng-click="startDemo()">Start</md-button>
        </div>
      </md-tab>
      <md-tab label="1. Select the region to split" ng-disabled="!(step==1)">
        <div layout="row">
          <div flex>
            <p>First, click on the Loir-Et-Cher's boundary to start splitting the region.</p>

            <p>When your cursor is on top of the boundary, it changes color. Click when the boundary becomes black.</p>
          </div>
          <div flex layout-align="center center" layout="row">
            <video autoplay="autoplay" loop>>
              <source src="maps1.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      </md-tab>
      <md-tab label="2. Define the new boundary" ng-disabled="!(step==2)">
        <div layout="row">
          <div flex>
            <p>Now, click inside the département to draw a polyline that will be the boundary separating our two new
              zones.</p>

            <p>Click on other points in the département to extend the polyline.</p>

            <p>When you are done, just click one last time on the département's boundary to finish the polyline.</p>
          </div>
          <div flex layout-align="center center" layout="row">
            <video autoplay="autoplay" loop>>
              <source src="maps2.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      </md-tab>
      <md-tab label="3. Finish splitting" ng-disabled="!(step==3)">
        <div layout="row">
          <div flex>
            <p>You can continue clicking to extend the polyline.</p>

            <p>When you are done, just click one last time on the département's boundary to finish the polyline.</p>
          </div>
          <div flex layout-align="center center" layout="row">
            <video autoplay="autoplay" loop>>
              <source src="maps3.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      </md-tab>
      <md-tab label="4. Test your new regions" ng-disabled="!(step==4)">
        <div layout="row">
          <div flex>
            <p>The département should now be split in two regions in light and dark blue.</p>

            <p>Let us imagine that we have two sales representative, and that each sales rep has been assigned one of
              those new regions.</p>

            <p>Use the text on the right to input an address and see which sales rep we will assign to visit this
              address. If you do not know well the geography of Loire Et Cher, use one of the predefined addresses.</p>
          </div>
          <div flex layout-align="center center" layout="column" class="md-whiteframe-z4 address-test-box">
            <div layout-align="center start" layout="column" layout-fill>
              <md-input-container flex layout-align="center start" layout="column" layout-fill>
                <p>Input an address here : </p>

                <div layout="row" layout-fill>
                  <input type="text" ng-model="testAddress.text" flex="80" flex-order="1">
                  <md-button class="md-raised md-primary" ng-click="testFreeAddress()" flex="20" flex-order="2">Test
                  </md-button>
                </div>
                <p>Or use one of those : </p>
                <md-button class="md-raised" ng-click="testGeocodedAddress(47.887905, 1.207687)">32 Rue Louis et
                  M-Louise Tessier
                  41160 Fréteval
                  France
                </md-button>
                <br/>
                <md-button class="md-raised" ng-click="testGeocodedAddress(47.358524, 1.747364)">17 Faubourg Saint-Roch
                  41200 Romorantin-Lanthenay
                  France
                </md-button>
              </md-input-container>
            </div>
          </div>
        </div>
      </md-tab>
      </md-tab>
    </md-tabs>
  </div>
  <div layout="row" layout-fill layout-align="center center">
    <hatanian-gmap style="width:100%; height: 700px" add-marker="newMarker" on-splitted="onSplitted()" on-splitting-start="onSplittingStart()"
                   on-first-segment-drawn="onFirstSegmentDrawn()"></hatanian-gmap>
  </div>
</div>
